= About

AWS Lambda function that extracts audio, tags it and uploads it to S3.

== Version

include::VERSION[]

== Dependencies

* `python3` (install dependencies with `pip3 install -r requirements.txt -t .`)
* `ffmpeg` and `ffprobe` (static Linux binaries)
* `tagit` (basics `taglib` based tagger)
* `bs1770gain` (command-line replaygain scanner)
* `youtube-dl` (version `2018.9.10`)

== Environment Variables

* `BUCKET` - the S3 bucket name to upload audio files to.
* `WORK_DIR` - the directory path to download temporary files, etc. (e.g. `/tmp`).
* `NORMALIZE_FILENAME_SRC` - string of characters which are replaced in filenames (e.g. `/`)
* `NORMALIZE_FILENAME_DST` - string of characters which are used as replacement in filenames (e.g. `-`).

*Note*: `NORMALIZE_FILENAME_SRC` and `NORMALIZE_FILENAME_DST` are used together with `str.maketrans` as the functions two arguments.
